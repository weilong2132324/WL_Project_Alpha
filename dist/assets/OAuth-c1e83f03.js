import{r as c}from"./index-82377cc5.js";import{O as u,z as i,E as m}from"./index-ab9da3ee.js";import"./base-023a9467.js";import{E as p}from"./index-47df7860.js";import"./axios-4a70c6fc.js";import"./index-f008c14e.js";const y={__name:"OAuth",setup(h){const o=u();return i(()=>{const t=new URLSearchParams(window.location.search),e=t.get("state"),s=t.get("code"),a=atob(e),r=new URLSearchParams(a).get("oauth");c.post("/api/v1/auth/token",{authType:r,authCode:s,setCookie:!0}).then(f=>{let n=m();p.success({title:"Login Success",message:"Hi~ "+n.name,showClose:!1,duration:1500}),o.push("/")})}),(t,e)=>null}};export{y as default};
