import{v as ot,a6 as te,L as _,z as st,N as Pt,a4 as jt,O as Ot,F as be,G as ae,a7 as zt,D as it,B as kt,a8 as xe,a9 as ee,M as Mt,aa as k,f as Fe,u as Vt,i as Ne,ab as Ft,ac as Nt,ad as Bt,E as R,w as Lt}from"./index-f008c14e.js";import{p as v,q as Rt,r as z,T as ie,k as lt,as as Dt,J as Ut,l as le,x as ue,C as j,z as Kt,af as Ht,g as Wt,v as Gt,o as y,a as S,G as h,F as ce,H as b,u as o,I as Z,f as O,d as I,w as D,e as J,ad as pe,c as Yt,L as qt,ao as Xt,t as Q,U as Zt,a0 as Be}from"./index-ab9da3ee.js";import{m as Jt,u as Qt}from"./index-82377cc5.js";import{f as ea,b as ta,d as de,u as Le,_ as aa,w as na}from"./base-023a9467.js";import{a as ra,d as oa,u as sa,b as ia}from"./button-a5e2a0da.js";import{d as Re}from"./error-78e43d3e.js";import{i as la}from"./isNil-c75b1b34.js";const ua=()=>ot&&/firefox/i.test(window.navigator.userAgent);var ca=te(_,"WeakMap");const ve=ca;var De=Object.create,pa=function(){function e(){}return function(r){if(!st(r))return{};if(De)return De(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}();const da=pa;function fr(e,r){var t=-1,a=e.length;for(r||(r=Array(a));++t<a;)r[t]=e[t];return r}function vr(e,r,t,a){var s=!t;t||(t={});for(var i=-1,u=r.length;++i<u;){var g=r[i],p=a?a(t[g],e[g],g,t,e):void 0;p===void 0&&(p=e[g]),s?Pt(t,g,p):jt(t,g,p)}return t}var fa=9007199254740991;function ut(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fa}function ct(e){return e!=null&&ut(e.length)&&!Ot(e)}var va=Object.prototype;function we(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||va;return e===t}function ga(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}var ya="[object Arguments]";function Ue(e){return be(e)&&ae(e)==ya}var pt=Object.prototype,ma=pt.hasOwnProperty,ha=pt.propertyIsEnumerable,ba=Ue(function(){return arguments}())?Ue:function(e){return be(e)&&ma.call(e,"callee")&&!ha.call(e,"callee")};const xa=ba;function wa(){return!1}var dt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ke=dt&&typeof module=="object"&&module&&!module.nodeType&&module,Sa=Ke&&Ke.exports===dt,He=Sa?_.Buffer:void 0,Ta=He?He.isBuffer:void 0,Ia=Ta||wa;const Ca=Ia;var Ea="[object Arguments]",Aa="[object Array]",_a="[object Boolean]",$a="[object Date]",Pa="[object Error]",ja="[object Function]",Oa="[object Map]",za="[object Number]",ka="[object Object]",Ma="[object RegExp]",Va="[object Set]",Fa="[object String]",Na="[object WeakMap]",Ba="[object ArrayBuffer]",La="[object DataView]",Ra="[object Float32Array]",Da="[object Float64Array]",Ua="[object Int8Array]",Ka="[object Int16Array]",Ha="[object Int32Array]",Wa="[object Uint8Array]",Ga="[object Uint8ClampedArray]",Ya="[object Uint16Array]",qa="[object Uint32Array]",d={};d[Ra]=d[Da]=d[Ua]=d[Ka]=d[Ha]=d[Wa]=d[Ga]=d[Ya]=d[qa]=!0;d[Ea]=d[Aa]=d[Ba]=d[_a]=d[La]=d[$a]=d[Pa]=d[ja]=d[Oa]=d[za]=d[ka]=d[Ma]=d[Va]=d[Fa]=d[Na]=!1;function Xa(e){return be(e)&&ut(e.length)&&!!d[ae(e)]}function Za(e){return function(r){return e(r)}}var ft=typeof exports=="object"&&exports&&!exports.nodeType&&exports,U=ft&&typeof module=="object"&&module&&!module.nodeType&&module,Ja=U&&U.exports===ft,fe=Ja&&zt.process,Qa=function(){try{var e=U&&U.require&&U.require("util").types;return e||fe&&fe.binding&&fe.binding("util")}catch{}}();const We=Qa;var Ge=We&&We.isTypedArray,en=Ge?Za(Ge):Xa;const tn=en;var an=Object.prototype,nn=an.hasOwnProperty;function vt(e,r){var t=it(e),a=!t&&xa(e),s=!t&&!a&&Ca(e),i=!t&&!a&&!s&&tn(e),u=t||a||s||i,g=u?ga(e.length,String):[],p=g.length;for(var f in e)(r||nn.call(e,f))&&!(u&&(f=="length"||s&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||kt(f,p)))&&g.push(f);return g}function gt(e,r){return function(t){return e(r(t))}}var rn=gt(Object.keys,Object);const on=rn;var sn=Object.prototype,ln=sn.hasOwnProperty;function un(e){if(!we(e))return on(e);var r=[];for(var t in Object(e))ln.call(e,t)&&t!="constructor"&&r.push(t);return r}function cn(e){return ct(e)?vt(e):un(e)}function pn(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var dn=Object.prototype,fn=dn.hasOwnProperty;function vn(e){if(!st(e))return pn(e);var r=we(e),t=[];for(var a in e)a=="constructor"&&(r||!fn.call(e,a))||t.push(a);return t}function gr(e){return ct(e)?vt(e,!0):vn(e)}function gn(e,r){for(var t=-1,a=r.length,s=e.length;++t<a;)e[s+t]=r[t];return e}var yn=gt(Object.getPrototypeOf,Object);const mn=yn;function hn(){this.__data__=new xe,this.size=0}function bn(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}function xn(e){return this.__data__.get(e)}function wn(e){return this.__data__.has(e)}var Sn=200;function Tn(e,r){var t=this.__data__;if(t instanceof xe){var a=t.__data__;if(!ee||a.length<Sn-1)return a.push([e,r]),this.size=++t.size,this;t=this.__data__=new Mt(a)}return t.set(e,r),this.size=t.size,this}function K(e){var r=this.__data__=new xe(e);this.size=r.size}K.prototype.clear=hn;K.prototype.delete=bn;K.prototype.get=xn;K.prototype.has=wn;K.prototype.set=Tn;var yt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ye=yt&&typeof module=="object"&&module&&!module.nodeType&&module,In=Ye&&Ye.exports===yt,qe=In?_.Buffer:void 0,Xe=qe?qe.allocUnsafe:void 0;function yr(e,r){if(r)return e.slice();var t=e.length,a=Xe?Xe(t):new e.constructor(t);return e.copy(a),a}function Cn(e,r){for(var t=-1,a=e==null?0:e.length,s=0,i=[];++t<a;){var u=e[t];r(u,t,e)&&(i[s++]=u)}return i}function En(){return[]}var An=Object.prototype,_n=An.propertyIsEnumerable,Ze=Object.getOwnPropertySymbols,$n=Ze?function(e){return e==null?[]:(e=Object(e),Cn(Ze(e),function(r){return _n.call(e,r)}))}:En;const Pn=$n;function jn(e,r,t){var a=r(e);return it(e)?a:gn(a,t(e))}function mr(e){return jn(e,cn,Pn)}var On=te(_,"DataView");const ge=On;var zn=te(_,"Promise");const ye=zn;var kn=te(_,"Set");const me=kn;var Je="[object Map]",Mn="[object Object]",Qe="[object Promise]",et="[object Set]",tt="[object WeakMap]",at="[object DataView]",Vn=k(ge),Fn=k(ee),Nn=k(ye),Bn=k(me),Ln=k(ve),A=ae;(ge&&A(new ge(new ArrayBuffer(1)))!=at||ee&&A(new ee)!=Je||ye&&A(ye.resolve())!=Qe||me&&A(new me)!=et||ve&&A(new ve)!=tt)&&(A=function(e){var r=ae(e),t=r==Mn?e.constructor:void 0,a=t?k(t):"";if(a)switch(a){case Vn:return at;case Fn:return Je;case Nn:return Qe;case Bn:return et;case Ln:return tt}return r});const hr=A;var Rn=_.Uint8Array;const nt=Rn;function Dn(e){var r=new e.constructor(e.byteLength);return new nt(r).set(new nt(e)),r}function br(e,r){var t=r?Dn(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function xr(e){return typeof e.constructor=="function"&&!we(e)?da(mn(e)):{}}const he="update:modelValue",wr="change",Sr="input",Un=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),Kn=["class","style"],Hn=/^on[A-Z]/,Wn=(e={})=>{const{excludeListeners:r=!1,excludeKeys:t}=e,a=v(()=>((t==null?void 0:t.value)||[]).concat(Kn)),s=Rt();return s?v(()=>{var i;return ea(Object.entries((i=s.proxy)==null?void 0:i.$attrs).filter(([u])=>!a.value.includes(u)&&!(r&&Hn.test(u))))}):v(()=>({}))};function Gn(e){const r=z();function t(){if(e.value==null)return;const{selectionStart:s,selectionEnd:i,value:u}=e.value;if(s==null||i==null)return;const g=u.slice(0,Math.max(0,s)),p=u.slice(Math.max(0,i));r.value={selectionStart:s,selectionEnd:i,value:u,beforeTxt:g,afterTxt:p}}function a(){if(e.value==null||r.value==null)return;const{value:s}=e.value,{beforeTxt:i,afterTxt:u,selectionStart:g}=r.value;if(i==null||u==null||g==null)return;let p=s.length;if(s.endsWith(u))p=s.length-u.length;else if(s.startsWith(i))p=i.length;else{const f=i[g-1],C=s.indexOf(f,g-1);C!==-1&&(p=C+1)}e.value.setSelectionRange(p,p)}return[t,a]}let x;const Yn=`
  height:0 !important;
  visibility:hidden !important;
  ${ua()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,qn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Xn(e){const r=window.getComputedStyle(e),t=r.getPropertyValue("box-sizing"),a=Number.parseFloat(r.getPropertyValue("padding-bottom"))+Number.parseFloat(r.getPropertyValue("padding-top")),s=Number.parseFloat(r.getPropertyValue("border-bottom-width"))+Number.parseFloat(r.getPropertyValue("border-top-width"));return{contextStyle:qn.map(u=>`${u}:${r.getPropertyValue(u)}`).join(";"),paddingSize:a,borderSize:s,boxSizing:t}}function rt(e,r=1,t){var a;x||(x=document.createElement("textarea"),document.body.appendChild(x));const{paddingSize:s,borderSize:i,boxSizing:u,contextStyle:g}=Xn(e);x.setAttribute("style",`${g};${Yn}`),x.value=e.value||e.placeholder||"";let p=x.scrollHeight;const f={};u==="border-box"?p=p+i:u==="content-box"&&(p=p-s),x.value="";const C=x.scrollHeight-s;if(Fe(r)){let m=C*r;u==="border-box"&&(m=m+s+i),p=Math.max(m,p),f.minHeight=`${m}px`}if(Fe(t)){let m=C*t;u==="border-box"&&(m=m+s+i),p=Math.min(m,p)}return f.height=`${p}px`,(a=x.parentNode)==null||a.removeChild(x),x=void 0,f}const Zn=ta({id:{type:String,default:void 0},size:Vt,disabled:Boolean,modelValue:{type:de([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:de([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ne},prefixIcon:{type:Ne},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:de([Object,Array,String]),default:()=>Jt({})}}),Jn={[he]:e=>ie(e),input:e=>ie(e),change:e=>ie(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Qn=["role"],er=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],tr=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],ar=lt({name:"ElInput",inheritAttrs:!1}),nr=lt({...ar,props:Zn,emits:Jn,setup(e,{expose:r,emit:t}){const a=e,s=Dt(),i=Ut(),u=v(()=>{const n={};return a.containerRole==="combobox"&&(n["aria-haspopup"]=s["aria-haspopup"],n["aria-owns"]=s["aria-owns"],n["aria-expanded"]=s["aria-expanded"]),n}),g=v(()=>[a.type==="textarea"?Te.b():l.b(),l.m(mt.value),l.is("disabled",$.value),l.is("exceed",xt.value),{[l.b("group")]:i.prepend||i.append,[l.bm("group","append")]:i.append,[l.bm("group","prepend")]:i.prepend,[l.m("prefix")]:i.prefix||a.prefixIcon,[l.m("suffix")]:i.suffix||a.suffixIcon||a.clearable||a.showPassword,[l.bm("suffix","password-clear")]:Y.value&&re.value},s.class]),p=v(()=>[l.e("wrapper"),l.is("focus",M.value)]),f=Wn({excludeKeys:v(()=>Object.keys(u.value))}),{form:C,formItem:m}=ra(),{inputId:Se}=oa(a,{formItemContext:m}),mt=sa(),$=ia(),l=Le("input"),Te=Le("textarea"),H=le(),T=le(),M=z(!1),ne=z(!1),V=z(!1),W=z(!1),Ie=z(),G=le(a.inputStyle),F=v(()=>H.value||T.value),Ce=v(()=>{var n;return(n=C==null?void 0:C.statusIcon)!=null?n:!1}),N=v(()=>(m==null?void 0:m.validateState)||""),Ee=v(()=>N.value&&Ft[N.value]),ht=v(()=>W.value?Nt:Bt),bt=v(()=>[s.style,a.inputStyle]),Ae=v(()=>[a.inputStyle,G.value,{resize:a.resize}]),E=v(()=>la(a.modelValue)?"":String(a.modelValue)),Y=v(()=>a.clearable&&!$.value&&!a.readonly&&!!E.value&&(M.value||ne.value)),re=v(()=>a.showPassword&&!$.value&&!a.readonly&&!!E.value&&(!!E.value||M.value)),P=v(()=>a.showWordLimit&&!!f.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!$.value&&!a.readonly&&!a.showPassword),oe=v(()=>E.value.length),xt=v(()=>!!P.value&&oe.value>Number(f.value.maxlength)),wt=v(()=>!!i.suffix||!!a.suffixIcon||Y.value||a.showPassword||P.value||!!N.value&&Ce.value),[St,Tt]=Gn(H);Qt(T,n=>{if(It(),!P.value||a.resize!=="both")return;const c=n[0],{width:w}=c.contentRect;Ie.value={right:`calc(100% - ${w+15+6}px)`}});const B=()=>{const{type:n,autosize:c}=a;if(!(!ot||n!=="textarea"||!T.value))if(c){const w=Be(c)?c.minRows:void 0,X=Be(c)?c.maxRows:void 0,Ve=rt(T.value,w,X);G.value={overflowY:"hidden",...Ve},j(()=>{T.value.offsetHeight,G.value=Ve})}else G.value={minHeight:rt(T.value).minHeight}},It=(n=>{let c=!1;return()=>{var w;if(c||!a.autosize)return;((w=T.value)==null?void 0:w.offsetParent)===null||(n(),c=!0)}})(B),L=()=>{const n=F.value;!n||n.value===E.value||(n.value=E.value)},se=async n=>{St();let{value:c}=n.target;if(a.formatter&&(c=a.parser?a.parser(c):c,c=a.formatter(c)),!V.value){if(c===E.value){L();return}t(he,c),t("input",c),await j(),L(),Tt()}},_e=n=>{t("change",n.target.value)},$e=n=>{t("compositionstart",n),V.value=!0},Pe=n=>{var c;t("compositionupdate",n);const w=(c=n.target)==null?void 0:c.value,X=w[w.length-1]||"";V.value=!Un(X)},je=n=>{t("compositionend",n),V.value&&(V.value=!1,se(n))},Ct=()=>{W.value=!W.value,q()},q=async()=>{var n;await j(),(n=F.value)==null||n.focus()},Et=()=>{var n;return(n=F.value)==null?void 0:n.blur()},Oe=n=>{M.value=!0,t("focus",n)},ze=n=>{var c;M.value=!1,t("blur",n),a.validateEvent&&((c=m==null?void 0:m.validate)==null||c.call(m,"blur").catch(w=>Re()))},At=n=>{ne.value=!1,t("mouseleave",n)},_t=n=>{ne.value=!0,t("mouseenter",n)},ke=n=>{t("keydown",n)},$t=()=>{var n;(n=F.value)==null||n.select()},Me=()=>{t(he,""),t("change",""),t("clear"),t("input","")};return ue(()=>a.modelValue,()=>{var n;j(()=>B()),a.validateEvent&&((n=m==null?void 0:m.validate)==null||n.call(m,"change").catch(c=>Re()))}),ue(E,()=>L()),ue(()=>a.type,async()=>{await j(),L(),B()}),Kt(()=>{!a.formatter&&a.parser,L(),j(B)}),r({input:H,textarea:T,ref:F,textareaStyle:Ae,autosize:Ht(a,"autosize"),focus:q,blur:Et,select:$t,clear:Me,resizeTextarea:B}),(n,c)=>Wt((y(),S("div",pe(o(u),{class:o(g),style:o(bt),role:n.containerRole,onMouseenter:_t,onMouseleave:At}),[h(" input "),n.type!=="textarea"?(y(),S(ce,{key:0},[h(" prepend slot "),n.$slots.prepend?(y(),S("div",{key:0,class:b(o(l).be("group","prepend"))},[Z(n.$slots,"prepend")],2)):h("v-if",!0),O("div",{class:b(o(p))},[h(" prefix slot "),n.$slots.prefix||n.prefixIcon?(y(),S("span",{key:0,class:b(o(l).e("prefix"))},[O("span",{class:b(o(l).e("prefix-inner")),onClick:q},[Z(n.$slots,"prefix"),n.prefixIcon?(y(),I(o(R),{key:0,class:b(o(l).e("icon"))},{default:D(()=>[(y(),I(J(n.prefixIcon)))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0),O("input",pe({id:o(Se),ref_key:"input",ref:H,class:o(l).e("inner")},o(f),{type:n.showPassword?W.value?"text":"password":n.type,disabled:o($),formatter:n.formatter,parser:n.parser,readonly:n.readonly,autocomplete:n.autocomplete,tabindex:n.tabindex,"aria-label":n.label,placeholder:n.placeholder,style:n.inputStyle,form:a.form,onCompositionstart:$e,onCompositionupdate:Pe,onCompositionend:je,onInput:se,onFocus:Oe,onBlur:ze,onChange:_e,onKeydown:ke}),null,16,er),h(" suffix slot "),o(wt)?(y(),S("span",{key:1,class:b(o(l).e("suffix"))},[O("span",{class:b(o(l).e("suffix-inner")),onClick:q},[!o(Y)||!o(re)||!o(P)?(y(),S(ce,{key:0},[Z(n.$slots,"suffix"),n.suffixIcon?(y(),I(o(R),{key:0,class:b(o(l).e("icon"))},{default:D(()=>[(y(),I(J(n.suffixIcon)))]),_:1},8,["class"])):h("v-if",!0)],64)):h("v-if",!0),o(Y)?(y(),I(o(R),{key:1,class:b([o(l).e("icon"),o(l).e("clear")]),onMousedown:qt(o(Xt),["prevent"]),onClick:Me},{default:D(()=>[Yt(o(Lt))]),_:1},8,["class","onMousedown"])):h("v-if",!0),o(re)?(y(),I(o(R),{key:2,class:b([o(l).e("icon"),o(l).e("password")]),onClick:Ct},{default:D(()=>[(y(),I(J(o(ht))))]),_:1},8,["class"])):h("v-if",!0),o(P)?(y(),S("span",{key:3,class:b(o(l).e("count"))},[O("span",{class:b(o(l).e("count-inner"))},Q(o(oe))+" / "+Q(o(f).maxlength),3)],2)):h("v-if",!0),o(N)&&o(Ee)&&o(Ce)?(y(),I(o(R),{key:4,class:b([o(l).e("icon"),o(l).e("validateIcon"),o(l).is("loading",o(N)==="validating")])},{default:D(()=>[(y(),I(J(o(Ee))))]),_:1},8,["class"])):h("v-if",!0)],2)],2)):h("v-if",!0)],2),h(" append slot "),n.$slots.append?(y(),S("div",{key:1,class:b(o(l).be("group","append"))},[Z(n.$slots,"append")],2)):h("v-if",!0)],64)):(y(),S(ce,{key:1},[h(" textarea "),O("textarea",pe({id:o(Se),ref_key:"textarea",ref:T,class:o(Te).e("inner")},o(f),{tabindex:n.tabindex,disabled:o($),readonly:n.readonly,autocomplete:n.autocomplete,style:o(Ae),"aria-label":n.label,placeholder:n.placeholder,form:a.form,onCompositionstart:$e,onCompositionupdate:Pe,onCompositionend:je,onInput:se,onFocus:Oe,onBlur:ze,onChange:_e,onKeydown:ke}),null,16,tr),o(P)?(y(),S("span",{key:0,style:Zt(Ie.value),class:b(o(l).e("count"))},Q(o(oe))+" / "+Q(o(f).maxlength),7)):h("v-if",!0)],64))],16,Qn)),[[Gt,n.type!=="hidden"]])}});var rr=aa(nr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Tr=na(rr);export{wr as C,Tr as E,Sr as I,K as S,he as U,ct as a,xa as b,gn as c,nt as d,mr as e,hr as f,mn as g,Ca as h,Un as i,tn as j,cn as k,ut as l,vr as m,gr as n,fr as o,yr as p,br as q,xr as r,Pn as s,En as t,jn as u,Dn as v,We as w,Za as x};
