import{b as F,_ as G,d as re,u as O,w as he}from"./base-023a9467.js";import{E as Ce}from"./card-7b9566ef.js";import{E as ue}from"./input-780273cb.js";import{i as ke,D as Pe,E as ye,a as ze}from"./table-column-bea08da8.js";import{E as ce,a as de}from"./select-877336ea.js";import"./scrollbar-a6934be9.js";import"./popper-452fb29d.js";import{E as we}from"./popover-b85e004e.js";/* empty css             */import{E as xe}from"./overlay-427945f8.js";import{E as Ne}from"./button-a5e2a0da.js";import{E as Se,a as Ee}from"./form-item-30714343.js";import{m as pe,r as Z,E as Q}from"./index-82377cc5.js";import{k as L,p as j,o as g,a as w,t as U,d as V,w as h,e as ge,u as t,m as $e,r as C,x as ee,c as i,F as ae,b as te,H as M,f as T,y as Le,G as X,P as Te,q as Me,K as je,B as q,E as Be,z as Ie,h as J}from"./index-ab9da3ee.js";import{I as Ve}from"./index-1c9e3cad.js";import{i as Y,b as H,E as ne,c as me,d as qe,m as oe,e as Ae,f as D,g as We,h as De}from"./index-f008c14e.js";import{d as Ue}from"./error-78e43d3e.js";import{S as Fe}from"./Search-6331e9f4.js";import"./isNil-c75b1b34.js";import"./_commonjsHelpers-de833af9.js";import"./index-ac5221b9.js";import"./focus-trap-3082f5b4.js";import"./vnode-d00f7f96.js";import"./axios-4a70c6fc.js";const fe=Symbol("elPaginationKey"),He=F({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Y}}),Ke={click:e=>e instanceof MouseEvent},Oe=["disabled","aria-label","aria-disabled"],Ge={key:0},Je=L({name:"ElPaginationPrev"}),Re=L({...Je,props:He,emits:Ke,setup(e){const c=e,{t:o}=H(),u=j(()=>c.disabled||c.currentPage<=1);return(s,r)=>(g(),w("button",{type:"button",class:"btn-prev",disabled:t(u),"aria-label":s.prevText||t(o)("el.pagination.prev"),"aria-disabled":t(u),onClick:r[0]||(r[0]=v=>s.$emit("click",v))},[s.prevText?(g(),w("span",Ge,U(s.prevText),1)):(g(),V(t(ne),{key:1},{default:h(()=>[(g(),V(ge(s.prevIcon)))]),_:1}))],8,Oe))}});var Ze=G(Re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const Qe=F({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Y}}),Xe=["disabled","aria-label","aria-disabled"],Ye={key:0},ea=L({name:"ElPaginationNext"}),aa=L({...ea,props:Qe,emits:["click"],setup(e){const c=e,{t:o}=H(),u=j(()=>c.disabled||c.currentPage===c.pageCount||c.pageCount===0);return(s,r)=>(g(),w("button",{type:"button",class:"btn-next",disabled:t(u),"aria-label":s.nextText||t(o)("el.pagination.next"),"aria-disabled":t(u),onClick:r[0]||(r[0]=v=>s.$emit("click",v))},[s.nextText?(g(),w("span",Ye,U(s.nextText),1)):(g(),V(t(ne),{key:1},{default:h(()=>[(g(),V(ge(s.nextIcon)))]),_:1}))],8,Xe))}});var ta=G(aa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const le=()=>$e(fe,{}),na=F({pageSize:{type:Number,required:!0},pageSizes:{type:re(Array),default:()=>pe([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,size:{type:String,values:me}}),la=L({name:"ElPaginationSizes"}),oa=L({...la,props:na,emits:["page-size-change"],setup(e,{emit:c}){const o=e,{t:u}=H(),s=O("pagination"),r=le(),v=C(o.pageSize);ee(()=>o.pageSizes,(d,P)=>{if(!ke(d,P)&&Array.isArray(d)){const p=d.includes(o.pageSize)?o.pageSize:o.pageSizes[0];c("page-size-change",p)}}),ee(()=>o.pageSize,d=>{v.value=d});const k=j(()=>o.pageSizes);function S(d){var P;d!==v.value&&(v.value=d,(P=r.handleSizeChange)==null||P.call(r,Number(d)))}return(d,P)=>(g(),w("span",{class:M(t(s).e("sizes"))},[i(t(de),{"model-value":v.value,disabled:d.disabled,"popper-class":d.popperClass,size:d.size,"validate-event":!1,onChange:S},{default:h(()=>[(g(!0),w(ae,null,te(t(k),p=>(g(),V(t(ce),{key:p,value:p,label:p+t(u)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size"])],2))}});var sa=G(oa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const ia=F({size:{type:String,values:me}}),ra=["disabled"],ua=L({name:"ElPaginationJumper"}),ca=L({...ua,props:ia,setup(e){const{t:c}=H(),o=O("pagination"),{pageCount:u,disabled:s,currentPage:r,changeEvent:v}=le(),k=C(),S=j(()=>{var p;return(p=k.value)!=null?p:r==null?void 0:r.value});function d(p){k.value=p?+p:""}function P(p){p=Math.trunc(+p),v==null||v(p),k.value=void 0}return(p,E)=>(g(),w("span",{class:M(t(o).e("jump")),disabled:t(s)},[T("span",{class:M([t(o).e("goto")])},U(t(c)("el.pagination.goto")),3),i(t(ue),{size:p.size,class:M([t(o).e("editor"),t(o).is("in-pagination")]),min:1,max:t(u),disabled:t(s),"model-value":t(S),"validate-event":!1,label:t(c)("el.pagination.page"),type:"number","onUpdate:modelValue":d,onChange:P},null,8,["size","class","max","disabled","model-value","label"]),T("span",{class:M([t(o).e("classifier")])},U(t(c)("el.pagination.pageClassifier")),3)],10,ra))}});var da=G(ca,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const pa=F({total:{type:Number,default:1e3}}),ga=["disabled"],ma=L({name:"ElPaginationTotal"}),fa=L({...ma,props:pa,setup(e){const{t:c}=H(),o=O("pagination"),{disabled:u}=le();return(s,r)=>(g(),w("span",{class:M(t(o).e("total")),disabled:t(u)},U(t(c)("el.pagination.total",{total:s.total})),11,ga))}});var va=G(fa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const ba=F({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),_a=["onKeyup"],ha=["aria-current","aria-label","tabindex"],Ca=["tabindex","aria-label"],ka=["aria-current","aria-label","tabindex"],Pa=["tabindex","aria-label"],ya=["aria-current","aria-label","tabindex"],za=L({name:"ElPaginationPager"}),wa=L({...za,props:ba,emits:["change"],setup(e,{emit:c}){const o=e,u=O("pager"),s=O("icon"),{t:r}=H(),v=C(!1),k=C(!1),S=C(!1),d=C(!1),P=C(!1),p=C(!1),E=j(()=>{const n=o.pagerCount,a=(n-1)/2,l=Number(o.currentPage),y=Number(o.pageCount);let b=!1,B=!1;y>n&&(l>n-a&&(b=!0),l<y-a&&(B=!0));const I=[];if(b&&!B){const x=y-(n-2);for(let z=x;z<y;z++)I.push(z)}else if(!b&&B)for(let x=2;x<n;x++)I.push(x);else if(b&&B){const x=Math.floor(n/2)-1;for(let z=l-x;z<=l+x;z++)I.push(z)}else for(let x=2;x<y;x++)I.push(x);return I}),_=j(()=>o.disabled?-1:0);Le(()=>{const n=(o.pagerCount-1)/2;v.value=!1,k.value=!1,o.pageCount>o.pagerCount&&(o.currentPage>o.pagerCount-n&&(v.value=!0),o.currentPage<o.pageCount-n&&(k.value=!0))});function A(n=!1){o.disabled||(n?S.value=!0:d.value=!0)}function K(n=!1){n?P.value=!0:p.value=!0}function m(n){const a=n.target;if(a.tagName.toLowerCase()==="li"&&Array.from(a.classList).includes("number")){const l=Number(a.textContent);l!==o.currentPage&&c("change",l)}else a.tagName.toLowerCase()==="li"&&Array.from(a.classList).includes("more")&&f(n)}function f(n){const a=n.target;if(a.tagName.toLowerCase()==="ul"||o.disabled)return;let l=Number(a.textContent);const y=o.pageCount,b=o.currentPage,B=o.pagerCount-2;a.className.includes("more")&&(a.className.includes("quickprev")?l=b-B:a.className.includes("quicknext")&&(l=b+B)),Number.isNaN(+l)||(l<1&&(l=1),l>y&&(l=y)),l!==b&&c("change",l)}return(n,a)=>(g(),w("ul",{class:M(t(u).b()),onClick:f,onKeyup:Te(m,["enter"])},[n.pageCount>0?(g(),w("li",{key:0,class:M([[t(u).is("active",n.currentPage===1),t(u).is("disabled",n.disabled)],"number"]),"aria-current":n.currentPage===1,"aria-label":t(r)("el.pagination.currentPage",{pager:1}),tabindex:t(_)}," 1 ",10,ha)):X("v-if",!0),v.value?(g(),w("li",{key:1,class:M(["more","btn-quickprev",t(s).b(),t(u).is("disabled",n.disabled)]),tabindex:t(_),"aria-label":t(r)("el.pagination.prevPages",{pager:n.pagerCount-2}),onMouseenter:a[0]||(a[0]=l=>A(!0)),onMouseleave:a[1]||(a[1]=l=>S.value=!1),onFocus:a[2]||(a[2]=l=>K(!0)),onBlur:a[3]||(a[3]=l=>P.value=!1)},[(S.value||P.value)&&!n.disabled?(g(),V(t(qe),{key:0})):(g(),V(t(oe),{key:1}))],42,Ca)):X("v-if",!0),(g(!0),w(ae,null,te(t(E),l=>(g(),w("li",{key:l,class:M([[t(u).is("active",n.currentPage===l),t(u).is("disabled",n.disabled)],"number"]),"aria-current":n.currentPage===l,"aria-label":t(r)("el.pagination.currentPage",{pager:l}),tabindex:t(_)},U(l),11,ka))),128)),k.value?(g(),w("li",{key:2,class:M(["more","btn-quicknext",t(s).b(),t(u).is("disabled",n.disabled)]),tabindex:t(_),"aria-label":t(r)("el.pagination.nextPages",{pager:n.pagerCount-2}),onMouseenter:a[4]||(a[4]=l=>A()),onMouseleave:a[5]||(a[5]=l=>d.value=!1),onFocus:a[6]||(a[6]=l=>K()),onBlur:a[7]||(a[7]=l=>p.value=!1)},[(d.value||p.value)&&!n.disabled?(g(),V(t(Ae),{key:0})):(g(),V(t(oe),{key:1}))],42,Pa)):X("v-if",!0),n.pageCount>1?(g(),w("li",{key:3,class:M([[t(u).is("active",n.currentPage===n.pageCount),t(u).is("disabled",n.disabled)],"number"]),"aria-current":n.currentPage===n.pageCount,"aria-label":t(r)("el.pagination.currentPage",{pager:n.pageCount}),tabindex:t(_)},U(n.pageCount),11,ya)):X("v-if",!0)],42,_a))}});var xa=G(wa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const N=e=>typeof e!="number",Na=F({total:Number,pageSize:Number,defaultPageSize:Number,currentPage:Number,defaultCurrentPage:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>D(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:re(Array),default:()=>pe([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Y,default:()=>We},nextText:{type:String,default:""},nextIcon:{type:Y,default:()=>De},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),Sa={"update:current-page":e=>D(e),"update:page-size":e=>D(e),"size-change":e=>D(e),"current-change":e=>D(e),"prev-click":e=>D(e),"next-click":e=>D(e)},se="ElPagination";var Ea=L({name:se,props:Na,emits:Sa,setup(e,{emit:c,slots:o}){const{t:u}=H(),s=O("pagination"),r=Me().vnode.props||{},v="onUpdate:currentPage"in r||"onUpdate:current-page"in r||"onCurrentChange"in r,k="onUpdate:pageSize"in r||"onUpdate:page-size"in r||"onSizeChange"in r,S=j(()=>{if(N(e.total)&&N(e.pageCount)||!N(e.currentPage)&&!v)return!1;if(e.layout.includes("sizes")){if(N(e.pageCount)){if(!N(e.total)&&!N(e.pageSize)&&!k)return!1}else if(!k)return!1}return!0}),d=C(N(e.defaultPageSize)?10:e.defaultPageSize),P=C(N(e.defaultCurrentPage)?1:e.defaultCurrentPage),p=j({get(){return N(e.pageSize)?d.value:e.pageSize},set(a){N(e.pageSize)&&(d.value=a),k&&(c("update:page-size",a),c("size-change",a))}}),E=j(()=>{let a=0;return N(e.pageCount)?N(e.total)||(a=Math.max(1,Math.ceil(e.total/p.value))):a=e.pageCount,a}),_=j({get(){return N(e.currentPage)?P.value:e.currentPage},set(a){let l=a;a<1?l=1:a>E.value&&(l=E.value),N(e.currentPage)&&(P.value=l),v&&(c("update:current-page",l),c("current-change",l))}});ee(E,a=>{_.value>a&&(_.value=a)});function A(a){_.value=a}function K(a){p.value=a;const l=E.value;_.value>l&&(_.value=l)}function m(){e.disabled||(_.value-=1,c("prev-click",_.value))}function f(){e.disabled||(_.value+=1,c("next-click",_.value))}function n(a,l){a&&(a.props||(a.props={}),a.props.class=[a.props.class,l].join(" "))}return je(fe,{pageCount:E,disabled:j(()=>e.disabled),currentPage:_,changeEvent:A,handleSizeChange:K}),()=>{var a,l;if(!S.value)return Ue(se,u("el.pagination.deprecationWarning")),null;if(!e.layout||e.hideOnSinglePage&&E.value<=1)return null;const y=[],b=[],B=q("div",{class:s.e("rightwrapper")},b),I={prev:q(Ze,{disabled:e.disabled,currentPage:_.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:m}),jumper:q(da,{size:e.small?"small":"default"}),pager:q(xa,{currentPage:_.value,pageCount:E.value,pagerCount:e.pagerCount,onChange:A,disabled:e.disabled}),next:q(ta,{disabled:e.disabled,currentPage:_.value,pageCount:E.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:f}),sizes:q(sa,{pageSize:p.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,size:e.small?"small":"default"}),slot:(l=(a=o==null?void 0:o.default)==null?void 0:a.call(o))!=null?l:null,total:q(va,{total:N(e.total)?0:e.total})},x=e.layout.split(",").map(W=>W.trim());let z=!1;return x.forEach(W=>{if(W==="->"){z=!0;return}z?b.push(I[W]):y.push(I[W])}),n(y[0],s.is("first")),n(y[y.length-1],s.is("last")),z&&b.length>0&&(n(b[0],s.is("first")),n(b[b.length-1],s.is("last")),y.push(B)),q("div",{class:[s.b(),s.is("background",e.background),{[s.m("small")]:e.small}]},y)}}});const $a=he(Ea),ie=Ve("bookmark-three",!0,function(e){return i("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[i("path",{d:"M7 9C7 7.34315 8.34315 6 10 6H41V42H10C8.34315 42 7 40.6569 7 39V9Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M7 34L41 34",stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M7 30V38",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M41 30V38",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M15 6H25V26L20 22L15 26V6Z",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),i("path",{d:"M11 6L29 6",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])});const La={class:"w-full flex justify-center"},Ta={class:"flex flex-col w-full h-full px-[4rem] py-[2rem] space-y-[1rem]"},Ma=T("span",{class:"text-gray-400"},"Select related group, will created a new namespace with group name",-1),ja={class:"dialog-footer"},Ba={class:"flex overflow-hidden rounded-md shadow-md border"},Ia={class:"flex w-full h-[5rem] items-center"},Va=T("span",{class:"m-[0.75rem] text-2xl font-600"},"Namespaces",-1),qa={class:"flex justify-between space-x-[2rem]"},Aa=T("p",null,"Are you sure to delete this namespace?",-1),Wa={class:"my-[0.5rem]"},Da={class:"flex w-full justify-center"},pt={__name:"Namespace",setup(e){const c=Be(),o=C([]),u=C([]),s=C(!1),r=C(-1),v=C({}),k=C(10),S=C(1),d=C(""),P=j(()=>u.value.filter(m=>!d.value||m.metadata.name.toLowerCase().includes(d.value.toLowerCase()))),p=m=>m.slice(k.value*(S.value-1),k.value*S.value),E=m=>{S.value=m};Ie(()=>{let m=c.id;if(!m)return;let f=`/api/v1/users/${m}/groups`;c.inRoot&&(f="/api/v1/groups"),Z.get(f).then(n=>{o.value=n.data.data,o.value.length==0&&Q.failed("No group find, please create it at first")}),Z.get("/api/v1/namespaces").then(n=>{u.value=n.data.data.items})});const _=m=>`${m.name}(${m.describe})`,A=()=>{let m=o.value[v.value.group];if(!m){Q.failed("Group must selected");return}Z.post("/api/v1/namespaces",{apiVersion:"v1",kind:"Namespace",metadata:{name:m.name,annotations:{"weave.io/platform":"true","weave.io/describe":m.describe,"weave.io/group":m.name,"weave.io/group_id":`${m.id}`},labels:{"weave.io/platform":"true","weave.io/group":m.name}}}).then(f=>{Q.success("Create success"),u.value.push(f.data.data),s.value=!1})},K=m=>{Z.delete("/api/v1/namespaces/"+m.metadata.name).then(()=>{Q.success("Delete success");const f=u.value.findIndex(n=>n.metadata.name===m.metadata.name);u.value.splice(f,1),r.value=-1})};return(m,f)=>{const n=ce,a=de,l=Se,y=Ee,b=Ne,B=xe,I=ne,x=ue,z=ye,W=we,ve=ze,be=$a,_e=Ce;return g(),w("div",La,[T("div",Ta,[i(B,{modelValue:s.value,"onUpdate:modelValue":f[2]||(f[2]=$=>s.value=$),title:"Create Namespace",width:"50%"},{footer:h(()=>[T("span",ja,[i(b,{type:"primary",onClick:A},{default:h(()=>[J("Confirm")]),_:1}),i(b,{onClick:f[1]||(f[1]=$=>s.value=!1)},{default:h(()=>[J("Cancel")]),_:1})])]),default:h(()=>[i(y,{model:v.value,"label-position":"top","label-width":"auto"},{default:h(()=>[i(l,{label:"Name",prop:"group",required:""},{default:h(()=>[i(a,{class:"w-full",modelValue:v.value.group,"onUpdate:modelValue":f[0]||(f[0]=$=>v.value.group=$),filterable:"",placeholder:"please select related group"},{default:h(()=>[(g(!0),w(ae,null,te(o.value,($,R)=>(g(),V(n,{label:_($),value:R},null,8,["label","value"]))),256))]),_:1},8,["modelValue"]),Ma]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),T("div",Ba,[T("div",Ia,[i(t(ie),{class:"ml-[1rem]",theme:"filled",size:"42",fill:"#94A3B8"}),Va])]),i(_e,{class:"w-full h-max"},{header:h(()=>[T("div",qa,[i(x,{modelValue:d.value,"onUpdate:modelValue":f[3]||(f[3]=$=>d.value=$),placeholder:"Type to search"},{prefix:h(()=>[i(I,null,{default:h(()=>[i(t(Fe))]),_:1})]),_:1},8,["modelValue"]),i(b,{type:"primary",plain:"",icon:t(ie),onClick:f[4]||(f[4]=$=>s.value=!0)},{default:h(()=>[J("Create")]),_:1},8,["icon"])])]),default:h(()=>[i(ve,{data:p(P.value),class:"w-full max-h-full"},{default:h(()=>[i(z,{prop:"metadata.name",label:"Name"}),i(z,{prop:"metadata.labels['weave.io/group']",label:"Group"}),i(z,{prop:"metadata.annotations['weave.io/describe']",label:"Describe"}),i(z,{prop:"metadata.creationTimestamp",label:"CreateAt","min-width":"120px"}),i(z,{label:"Operation"},{default:h($=>[i(W,{visible:r.value==$.$index,placement:"top",width:160},{reference:h(()=>[i(b,{size:"small",type:"danger",onClick:R=>r.value=$.$index,icon:t(Pe),circle:"",class:"wl-[1rem]"},null,8,["onClick","icon"])]),default:h(()=>[Aa,T("div",Wa,[i(b,{size:"small",text:"",onClick:f[5]||(f[5]=R=>r.value=-1)},{default:h(()=>[J("cancel")]),_:1}),i(b,{size:"small",type:"danger",onClick:R=>K($.row)},{default:h(()=>[J("confirm")]),_:2},1032,["onClick"])])]),_:2},1032,["visible"])]),_:1})]),_:1},8,["data"]),T("div",Da,[i(be,{"page-size":k.value,"pager-count":5,layout:"prev, pager, next",total:P.value.length,onCurrentChange:E},null,8,["page-size","total"])])]),_:1})])])}}};export{pt as default};
